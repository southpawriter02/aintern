# v0.4.1a: Core Models

**Date:** 2026-01-15

## Summary

Foundational data models for representing code blocks extracted from LLM responses.

## New Files

### [CodeBlockTypes.cs](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Core/Models/CodeBlockTypes.cs)
- `CodeBlockType` enum: CompleteFile, Snippet, Example, Command, Output, Config
- `CodeBlockStatus` enum: Pending, Applied, Rejected, Skipped, Conflict, Error
- `TextRange` record struct with Contains, Overlaps, FromLength
- `LineRange` record struct with Contains, Overlaps, SingleLine

### [CodeBlock.cs](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Core/Models/CodeBlock.cs)
- Content, Language, DisplayLanguage
- TargetFilePath, ReplacementRange
- BlockType, Status, ConfidenceScore
- IsApplicable, LineCount computed properties
- With() method for immutable copies

### [CodeProposal.cs](file:///Users/turtle1/Documents/GitHub/aintern/src/AIntern.Core/Models/CodeProposal.cs)
- CodeBlocks collection
- Filtered views: ApplicableBlocks, ExampleBlocks, CommandBlocks
- Statistics: ApplicableCount, AppliedCount, AffectedFileCount
- UpdateStatus() method for status calculation
- `ProposalStatus` enum: Pending, PartiallyApplied, FullyApplied, Rejected, Expired

## Tests
- [CodeBlockTests.cs](file:///Users/turtle1/Documents/GitHub/aintern/tests/AIntern.Core.Tests/Models/CodeBlockTests.cs) - 13 tests
- [CodeProposalTests.cs](file:///Users/turtle1/Documents/GitHub/aintern/tests/AIntern.Core.Tests/Models/CodeProposalTests.cs) - 10 tests

## Verification
- ✅ Build succeeded
- ✅ Unit tests created
