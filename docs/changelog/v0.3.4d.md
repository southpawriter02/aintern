# v0.3.4d: Chat Context Bar UI

**Released:** 2026-01-15

## Summary

Implemented `ChatContextBar` - a visual component displaying attached file contexts
as interactive pills with token tracking and warning states.

## New Files

| File | Description |
|------|-------------|
| `ChatContextBar.axaml` | Main context bar UI |
| `ChatContextBar.axaml.cs` | Pointer event handlers |
| `ChatContextBarViewModel.cs` | Token tracking, commands |
| `TokenCountConverter.cs` | Number formatting |

## Modified Files

| File | Changes |
|------|---------|
| `Dark.axaml` | Context bar color resources |
| `Icons.axaml` | AttachmentIcon, CloseIcon, SelectionIcon, ClipboardIcon |

---

## Key Features

| Feature | Description |
|---------|-------------|
| Context Pills | Display filename, badge, token count, close button |
| Token Tracking | Total tokens and limit display |
| Warning States | Near limit (80-100%), over limit (>100%) |
| Commands | Add, remove, clear all, show preview |

## Token Limit States

| State | Threshold | Visual |
|-------|-----------|--------|
| Normal | <80% | Default text |
| Warning | 80-100% | Yellow warning |
| Error | >100% | Red error |

---

## Test Results

- **Tests:** 21 passed
- **Build:** 0 errors (1 pre-existing warning)

## Related Versions

- v0.3.4a: Token Estimation Service
- v0.3.4b: Context Formatter  
- v0.3.4c: File Context ViewModel
- v0.3.4e: Context Attachment Service (next)
