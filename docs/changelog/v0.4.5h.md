# v0.4.5h - Change History Panel

**Released**: 2026-01-16

## Overview
Implements the Change History Panel for tracking, viewing, and managing workspace file changes with undo capabilities.

## New Features

### Change History Panel
- **Full history view** with flat and grouped display modes
- **Grouping options**: by file, time period, change type, or directory
- **Filtering and search**: full-text search, date range, change type, undoable-only
- **Sort options**: newest/oldest first, by file name, by change type, expiring soonest
- **Undo integration**: visual countdown timer, batch undo selected/all
- **Export support**: JSON, CSV, Markdown, Unified Diff formats

### UI Components
- `ChangeHistoryPanel.axaml` - Main panel view
- `ChangeHistoryStyles.axaml` - Consistent styling for history items and groups
- Real-time countdown progress bars for undo expiration

### Service Layer
- `IChangeHistoryService` - Query, filter, group, search, and export history
- `ChangeHistoryService` - In-memory caching with UndoManager integration

### ViewModels
- `ChangeHistoryViewModel` - Main panel orchestration
- `ChangeHistoryGroupViewModel` - Group header with expand/collapse
- `ChangeHistoryItemViewModel` - Individual change with undo actions

## Technical Details

### New Files
- `src/AIntern.Core/Models/ChangeHistoryModels.cs`
- `src/AIntern.Core/Interfaces/IChangeHistoryService.cs`
- `src/AIntern.Services/ChangeHistoryService.cs`
- `src/AIntern.Desktop/ViewModels/ChangeHistoryViewModel.cs`
- `src/AIntern.Desktop/ViewModels/ChangeHistoryItemViewModel.cs`
- `src/AIntern.Desktop/ViewModels/ChangeHistoryGroupViewModel.cs`
- `src/AIntern.Desktop/Views/ChangeHistoryPanel.axaml`
- `src/AIntern.Desktop/Views/ChangeHistoryPanel.axaml.cs`
- `src/AIntern.Desktop/Styles/ChangeHistoryStyles.axaml`
- `src/AIntern.Desktop/Converters/ChangeTypeColorConverter.cs`

### Modified Files
- `src/AIntern.Desktop/Extensions/ServiceCollectionExtensions.cs` - DI registration
- `src/AIntern.Desktop/App.axaml` - Style inclusion

## Dependencies
- Integrates with existing `IUndoManager` for undo state tracking
- Uses `ISettingsService` for `MaxChangeHistoryItems` limit
- Leverages `IClipboardService` for copy-to-clipboard functionality
